<video id="meuVideo" width="800" height="450" controls autoplay controlsList="nodownload" >
    <source src="http://files.cod3r.com.br/curso-web/video.mp4" type="video/mp4"> 
    Seu browser não suporta a tag de vídeo
</video>

<div wm-progresso="meuVideo" class="progresso">
    <div></div>
</div>

<div class="botao">
    <button wm-play="meuVideo" onclick="funcaoPlay()">Play</button>
    <button wm-pause="meuVideo" onclick="funcaoPause()">Pause</button>
</div>

<style>
    .progresso {
        height: 5px;
        width: 770px;
        margin-top: 5px;
        margin-left: 14px;
        background-color: gray;
        border-radius: 10px;
        /* cursor:pointer */
    }

    .progresso > div {
        height: 5px;
        width: 0px;
        background-color: red;
        border-radius: 10px;
    }

    .botao {
        margin-top: 10px;
        margin-left: 300px;
    }

    .botao > button {
        background-color: red;
        color: white;
        border-color: transparent;
        width: 100px;
        height: 50px;
        cursor: pointer;
        border-radius: 4px;
        font-weight: bold;
        font-size: 20px;
    }

    .botao > button:active {
  background-color: darkred;
}
</style>

<script>
    const video = document.querySelector('#meuVideo')
    const barraDeProgresso = document.querySelector('.progresso > div')
    let duracaoVideo
    let tempoAtual
    let porcentagemAtual

    function getPorcentagem(){
        if (video.paused) {
            duracaoVideo = video.duration
            tempoAtual = video.currentTime
            porcentagemAtual = (tempoAtual*100)/duracaoVideo
            porcentagemFormatada = `${porcentagemAtual}%`     
            barraDeProgresso.style.width = porcentagemFormatada
        } else {
            duracaoVideo = video.duration
            tempoAtual = video.currentTime
            porcentagemAtual = (tempoAtual*100)/duracaoVideo
            porcentagemFormatada = `${porcentagemAtual}%`     
            barraDeProgresso.style.width = porcentagemFormatada
        }
    }
    
    function progresso() {
        setInterval(() => getPorcentagem(),50)
    }


    function funcaoPlay() {
        video.play()
        progresso()
    }
    function funcaoPause() {     
        video.pause()
    }
</script>